<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Search Update Catalog"
    Width="900"
    Height="600"
    Background="#F8F9FA"
    FontFamily="Segoe UI"
    WindowStartupLocation="CenterOwner">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Search Section -->
        <Border Grid.Row="0" Background="White" CornerRadius="4" Padding="15" Margin="0,0,0,10">
            <Border.Effect>
                <DropShadowEffect BlurRadius="8" ShadowDepth="1" Opacity="0.08" />
            </Border.Effect>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!-- Search Bar -->
                <Grid Grid.Row="0" Margin="0,0,0,12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBox
                        x:Name="SearchTextBox"
                        Grid.Column="0"
                        Padding="10,8"
                        FontSize="13"
                        ToolTip="Enter search term or KB number" />
                    <Button
                        x:Name="SearchButton"
                        Grid.Column="1"
                        Margin="10,0,0,0"
                        Padding="20,8"
                        Content="Search" />
                </Grid>

                <!-- Filters Row -->
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" Margin="0,0,8,0">
                        <TextBlock Text="Operating System" FontSize="11" Foreground="#586069" Margin="0,0,0,4" />
                        <ComboBox x:Name="OperatingSystemComboBox" Padding="8,6" />
                    </StackPanel>

                    <StackPanel Grid.Column="1" Margin="4,0">
                        <TextBlock Text="Release" FontSize="11" Foreground="#586069" Margin="0,0,0,4" />
                        <ComboBox x:Name="ReleaseComboBox" Padding="8,6" />
                    </StackPanel>

                    <StackPanel Grid.Column="2" Margin="4,0">
                        <TextBlock Text="Architecture" FontSize="11" Foreground="#586069" Margin="0,0,0,4" />
                        <ComboBox x:Name="ArchitectureComboBox" Padding="8,6" />
                    </StackPanel>

                    <StackPanel Grid.Column="3" Margin="8,0,0,0">
                        <TextBlock Text="Update Type" FontSize="11" Foreground="#586069" Margin="0,0,0,4" />
                        <ComboBox x:Name="UpdateTypeComboBox" Padding="8,6" />
                    </StackPanel>
                </Grid>
            </Grid>
        </Border>

        <!-- Options Row -->
        <Border Grid.Row="1" Background="White" CornerRadius="4" Padding="15,10" Margin="0,0,0,10">
            <Border.Effect>
                <DropShadowEffect BlurRadius="8" ShadowDepth="1" Opacity="0.08" />
            </Border.Effect>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <CheckBox x:Name="AllPagesCheckBox" Content="All pages" Margin="0,0,15,0" />
                    <CheckBox x:Name="IncludePreviewCheckBox" Content="Include preview" Margin="0,0,15,0" />
                    <CheckBox x:Name="IncludeDynamicCheckBox" Content="Include dynamic" Margin="0,0,15,0" />
                    <CheckBox x:Name="GetFrameworkCheckBox" Content="Only .NET Framework" Margin="0,0,15,0" />
                    <CheckBox x:Name="ExcludeFrameworkCheckBox" Content="Exclude .NET Framework" Margin="0,0,15,0" />
                    <CheckBox x:Name="StrictCheckBox" Content="Strict" Margin="0,0,15,0" />
                    <CheckBox x:Name="IncludeFileNamesCheckBox" Content="Include filenames" />
                </StackPanel>
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="Days:" VerticalAlignment="Center" Margin="0,0,5,0" Foreground="#586069" FontSize="11" />
                    <TextBox x:Name="LastDaysTextBox" Width="50" Padding="4,2" Margin="0,0,10,0" />
                    <TextBlock Text="Size:" VerticalAlignment="Center" Margin="0,0,5,0" Foreground="#586069" FontSize="11" />
                    <TextBox x:Name="MinSizeTextBox" Width="40" Padding="4,2" Margin="0,0,3,0" />
                    <TextBlock Text="-" VerticalAlignment="Center" Margin="0,0,3,0" Foreground="#586069" />
                    <TextBox x:Name="MaxSizeTextBox" Width="40" Padding="4,2" Margin="0,0,5,0" />
                    <ComboBox x:Name="SizeUnitComboBox" Width="55" Padding="4,2">
                        <ComboBoxItem Content="MB" IsSelected="True" />
                        <ComboBoxItem Content="GB" />
                    </ComboBox>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Results -->
        <Border Grid.Row="2" Background="White" CornerRadius="4" Padding="0" Margin="0,0,0,10">
            <Border.Effect>
                <DropShadowEffect BlurRadius="8" ShadowDepth="1" Opacity="0.08" />
            </Border.Effect>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                
                <Border Grid.Row="0" Background="#2B579A" CornerRadius="4,4,0,0" Padding="12,8">
                    <TextBlock Text="Results" FontWeight="SemiBold" Foreground="White" FontSize="13" />
                </Border>

                <ListView
                    x:Name="ResultsList"
                    Grid.Row="1"
                    BorderThickness="0"
                    SelectionMode="Extended">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Width="380" DisplayMemberBinding="{Binding Title}" Header="Title" />
                            <GridViewColumn Width="120" DisplayMemberBinding="{Binding Classification}" Header="Classification" />
                            <GridViewColumn Width="110" DisplayMemberBinding="{Binding LastUpdated}" Header="Last Updated" />
                            <GridViewColumn Width="80" DisplayMemberBinding="{Binding Size}" Header="Size" />
                        </GridView>
                    </ListView.View>
                </ListView>
            </Grid>
        </Border>

        <!-- Footer -->
        <Grid Grid.Row="3">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            
            <TextBlock
                x:Name="CatalogStatusText"
                Grid.Column="0"
                VerticalAlignment="Center"
                Foreground="#586069"
                FontSize="12" />

            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <Button x:Name="DownloadButton" Margin="0,0,8,0" Content="Download Selected" />
                <Button x:Name="CopyButton" Margin="0,0,8,0" Content="Copy Details" Background="#6A737D" />
                <Button x:Name="CloseButton" Content="Close" Background="#6A737D" />
            </StackPanel>
        </Grid>
    </Grid>
</Window>
